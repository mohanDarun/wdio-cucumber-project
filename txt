<?php

use Drupal\Core\Form\FormStateInterface;

/**
 * Element validate handler to prevent HTML tags in comment field.
 */
function my_module_validate_no_html(array &$element, FormStateInterface $form_state, array &$complete_form) {
  $value = $form_state->getValue($element['#name']);

  // Check for presence of HTML tags.
  if ($value !== strip_tags($value)) {
    $form_state->setError($element, t('HTML tags are not allowed in the comment field.'));
  }
}
